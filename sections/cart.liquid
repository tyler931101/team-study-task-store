<section style="padding:2rem">
  <h1 style="margin-bottom:1.5rem">Your Cart</h1>

  {% if cart.item_count > 0 %}
    <form action="/cart" method="post" novalidate>
      <table style="width:100%;border-collapse:collapse;margin-bottom:2rem">
        <thead>
          <tr style="border-bottom:1px solid #eee;text-align:left">
            <th style="padding:.5rem">Product</th>
            <th style="padding:.5rem">Qty</th>
            <th style="padding:.5rem">Price</th>
            <th style="padding:.5rem">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr style="border-bottom:1px solid #f0f0f0">
              <td style="padding:.5rem">
                <a href="{{ item.url }}">
                  {% if item.image %}
                    <img
                      src="{{ item.image | image_url: width: 80 }}"
                      alt="{{ item.title }}"
                      style="vertical-align:middle;margin-right:.5rem"
                    >
                  {% endif %}
                  {{ item.product.title }}
                </a>
              </td>
              <td style="padding:.5rem">
                <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width:60px">
              </td>
              <td style="padding:.5rem">{{ item.price | money }}</td>
              <td style="padding:.5rem">{{ item.line_price | money }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div style="display:flex;justify-content:space-between;align-items:center">
        <p><strong>Subtotal:</strong> {{ cart.total_price | money }}</p>
        <div>
          <button
            type="submit"
            name="update"
            class="btn"
            style="margin-right:1rem;padding:.5rem 1rem;border:1px solid #ddd;border-radius:.25rem"
          >
            Update
          </button>
          <button
            type="submit"
            name="checkout"
            class="btn"
            style="padding:.5rem 1rem;background:#333;color:#fff;border:none;border-radius:.25rem"
          >
            Checkout
          </button>
        </div>
      </div>
    </form>
  {% else %}
    <p>Your cart is currently empty.</p>
  {% endif %}
</section>

{% schema %}
{
  "name": "Main cart",
  "settings": [],
  "presets": [{ "name": "Main cart" }]
}
{% endschema %}
