<section style="padding:2rem">
  <h1 style="margin-bottom:1.5rem">Search</h1>

  <!-- Search Form -->
  <form action="/search" method="get" style="margin-bottom:2rem">
    <input
      type="text"
      name="q"
      value="{{ search.terms | escape }}"
      placeholder="Search..."
      style="padding:.5rem;width:70%;max-width:400px;border:1px solid #ccc;border-radius:.25rem"
    >
    <button type="submit" style="padding:.5rem 1rem;background:#333;color:#fff;border:none;border-radius:.25rem">
      Search
    </button>
  </form>

  {% if search.performed %}
    {% if search.results_count > 0 %}
      <p>
        Found {{ search.results_count }} result{% if search.results_count > 1 %}s{% endif %} for “{{ search.terms }}”
      </p>

      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;margin-top:1rem">
        {% for item in search.results %}
          <div style="border:1px solid #eee;padding:1rem;border-radius:.5rem">
            {% if item.featured_image %}
              <a href="{{ item.url }}">
                <img
                  src="{{ item.featured_image | image_url: width: 400 }}"
                  alt="{{ item.title }}"
                  style="width:100%;border-radius:.25rem;margin-bottom:.5rem"
                >
              </a>
            {% endif %}
            <h3 style="margin:.25rem 0;font-size:1rem">
              <a href="{{ item.url }}" style="text-decoration:none;color:inherit">{{ item.title }}</a>
            </h3>
            {% if item.object_type == 'product' %}
              <p>{{ item.price | money }}</p>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No results found for “{{ search.terms }}”. Try another search.</p>
    {% endif %}
  {% endif %}
</section>

{% schema %}
{
  "name": "Main search",
  "settings": [],
  "presets": [{ "name": "Main search" }]
}
{% endschema %}
